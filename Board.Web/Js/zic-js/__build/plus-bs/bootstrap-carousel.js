define(function(){return function(h){!function(e){var f=function(a,b){this.$element=e(a);this.options=e.extend({},e.fn.carousel.defaults,b);this.options.slide&&this.slide(this.options.slide)};f.prototype={cycle:function(){this.interval=setInterval(e.proxy(this.next,this),this.options.interval);return this},to:function(a){var b=this.$element.find(".active"),d=b.parent().children(),b=d.index(b),c=this;if(!(a>d.length-1||0>a))return this.sliding?this.$element.one("slid",function(){c.to(a)}):b==a?this.pause().cycle():
this.slide(a>b?"next":"prev",e(d[a]))},pause:function(){clearInterval(this.interval);this.interval=null;return this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(a,b){var d=this.$element.find(".active"),c=b||d[a](),f=this.interval,g="next"==a?"left":"right",h="next"==a?"first":"last",i=this;if(c.length)return this.sliding=!0,f&&this.pause(),c=c.length?c:this.$element.find(".item")[h](),!e.support.transition&&
this.$element.hasClass("slide")?(this.$element.trigger("slide"),d.removeClass("active"),c.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(c.addClass(a),c[0].offsetWidth,d.addClass(g),c.addClass(g),this.$element.trigger("slide"),this.$element.one(e.support.transition.end,function(){c.removeClass([a,g].join(" ")).addClass("active");d.removeClass(["active",g].join(" "));i.sliding=!1;setTimeout(function(){i.$element.trigger("slid")},0)})),f&&this.cycle(),this}};e.fn.carousel=function(a){return this.each(function(){var b=
e(this),d=b.data("carousel"),c="object"==typeof a&&a;d||b.data("carousel",d=new f(this,c));if("number"==typeof a)d.to(a);else if("string"==typeof a||(a=c.slide))d[a]();else d.cycle()})};e.fn.carousel.defaults={interval:5E3};e.fn.carousel.Constructor=f;e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(a){var b=e(this),d,c=e(b.attr("data-target")||(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),b=!c.data("modal")&&e.extend({},c.data(),b.data());c.carousel(b);a.preventDefault()})})}(h)}});
