define(function(g){g("jqplus/jq_area2Data");return function(a,j,h){a.fn.area2=function(b){var b=a.extend({valueDom:"#ctl00_body_hfdata"},b||{}),i=a(b.valueDom);this.each(function(){var b=a(this),f=a("<a class='area2Btn hide'>请选择</a>").insertAfter(b),e=a('<div class="provhint popupbox"></div>').insertAfter(b);j.each(window.cityHintArea,function(a,d){e.append(h.to_html("<dl class='clear'><dt>{{key}}</dt><dd>                            {{#value}}<span class='prov' title='{{.}}'>{{.}}</span>{{/value}}                            </dd></dl>",
{key:d,value:a}))});e.popup();a("span.prov",e).on("click",function(){a("span.prov.current",e).next("ul.cityhint").popup("close");var c=a(this);a("span.prov",e).removeClass("current");c.addClass("current");if(!c.data("init")){var d=a(h.to_html("<ul class='cityhint popupbox clear'>                        {{#value}}<li><a title='{{.}}' class='city'>{{.}}</a></li>{{/value}}                        </ul>",{value:window.cityHintProv[c.text()]}));c.after(d);c.data("init",!0);d.popup().popup("open").on("click",
"a",function(){b.text(c.text()+"-"+a(this).text());d.popup("close");e.popup("close");f.show().text("请选择").next(".datahint").remove();i.val("");(void 0)(a(this).text(),g)})}});var g=function(c){var d=[];j.each(c,function(a){a=a.split("-");d.push({name:a[0],val:a[1]})});var b=a(h.to_html("<div class='datahint popupbox'><ul tabindex='1'>                        {{#value}}<li><a title='{{name}}' code='{{val}}'>{{name}}</a></li>{{/value}}                        </ul></div>",{value:d}));f.after(b);b.popup().on("click",
"a",function(){b.popup("close");f.text(a(this).text());i.val(a(this).attr("code"))});c=a("a:first",b);f.text(c.text());i.val(c.attr("code"))}})}}});
