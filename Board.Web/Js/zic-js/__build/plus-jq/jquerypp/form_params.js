define(["jquery"],function(j){(function(f){var j=/[^\[\]]+/g,k=function(e,b,a,g,h,d){var c=g.shift();if(g.length)a[c]||(a[c]={}),k(e,b,a[c],g,h,d);else if(c in d&&"radio"!=b&&!f.isArray(a[c])?a[c]=c in a?[a[c]]:[]:d[c]=!0,!("radio"==b||"checkbox"==b)||e.is(":checked"))a[c]?a[c].push(h):a[c]=h};f.fn.extend({formParams:function(e){var b;!!e===e&&(b=e,e=null);return e?this.setParams(e):this.getParams(b)},setParams:function(e){this.find("[name]").each(function(){var b=e[f(this).attr("name")],a;void 0!==
b&&(a=f(this),a.is(":radio")?a.val()==b&&a.attr("checked",!0):a.is(":checkbox")?(b=f.isArray(b)?b:[b],-1<f.inArray(a.val(),b)&&a.attr("checked",!0)):a.val(b))})},getParams:function(e){var b={},a={};this.find("[name]").each(function(){var g=f(this),h=g.attr("type"),d=g.attr("name"),c=g.val(),i;"submit"!=h&&d&&(i=d.match(j),i.length||(i=[d]),e&&(d=c,c=f.isNumeric(d)?parseFloat(d):"true"===d?!0:"false"===d?!1:""===d?void 0:d),k(g,h,b,i,c,a))});return b}})})(j)});
