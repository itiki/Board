define(["jquerypp/event/drag","jquerypp/syles","jquerypp/util/vector","jquerypp/event/livehack","jquery"],function(h,i,j,k,f){(function(d){var g=function(a,b){return Math.round(a/b)*b};d.Drag.prototype.step=function(a,b,e){"number"==typeof a&&(a={x:a,y:a});b=b||d(document.body);this._step=a;var c=b.styles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft"),a=parseInt(c.borderTopWidth)+parseInt(c.paddingTop),c=parseInt(c.borderLeftWidth)+parseInt(c.paddingLeft);this._step.offset=b.offsetv().plus(c,
a);this._step.center=e;return this};var f=d.Drag.prototype.position;d.Drag.prototype.position=function(a){if(this._step){var b=this._step,e=b.center&&b.center.toLowerCase(),c=this.movingElement.dimensionsv("outer"),d=b.offset.top()-(e&&"x"!=e?c.height()/2:0),b=b.offset.left()-(e&&"y"!=e?c.width()/2:0);this._step.x&&a.left(Math.round(b+g(a.left()-b,this._step.x)));this._step.y&&a.top(Math.round(d+g(a.top()-d,this._step.y)))}f.call(this,a)}})(f)});
