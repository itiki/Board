define(["jquerypp/event/drag","jquerypp/syles","jquerypp/util/vector","jquerypp/event/livehack","jquery"],function(j,k,l,m,h){(function(d){d.Drag.prototype.limit=function(b,c){var a=b.styles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft"),a=new d.Vector(parseInt(a.borderLeftWidth,10)+parseInt(a.paddingLeft,10)||0,parseInt(a.borderTopWidth,10)+parseInt(a.paddingTop,10)||0);this._limit={offset:b.offsetv().plus(a),size:b.dimensionsv(),center:!0===c?"both":c};return this};var h=d.Drag.prototype.position;
d.Drag.prototype.position=function(b){if(this._limit){var c=this._limit,a=c.center&&c.center.toLowerCase(),e=this.movingElement.dimensionsv("outer"),d=a&&"x"!=a?e.height()/2:0,a=a&&"y"!=a?e.width()/2:0,f=c.offset.top(),g=c.offset.left(),i=c.size.height(),c=c.size.width();b.top()+d<f&&b.top(f-d);b.top()+e.height()-d>f+i&&b.top(f+i-e.height()+d);b.left()+a<g&&b.left(g-a);b.left()+e.width()-a>g+c&&b.left(g+c-e.left()+a)}h.call(this,b)}})(h)});
