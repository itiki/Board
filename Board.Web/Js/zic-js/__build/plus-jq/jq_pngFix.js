define(function(){return function(a){a.fn.pngFix=function(d){var d=a.extend({blankgif:"/css/mod/img/blank.gif"},d),e="Microsoft Internet Explorer"==navigator.appName&&4==parseInt(navigator.appVersion)&&-1!=navigator.appVersion.indexOf("MSIE 5.5"),f="Microsoft Internet Explorer"==navigator.appName&&4==parseInt(navigator.appVersion)&&-1!=navigator.appVersion.indexOf("MSIE 6.0");if(a.browser.msie&&(e||f))a(this).find("img[@src$=.png]").each(function(){a(this).attr("width",a(this).width());a(this).attr("height",
a(this).height());var b="",c="",d=a(this).attr("id")?'id="'+a(this).attr("id")+'" ':"",e=a(this).attr("class")?'class="'+a(this).attr("class")+'" ':"",f=a(this).attr("title")?'title="'+a(this).attr("title")+'" ':"",h=a(this).attr("alt")?'alt="'+a(this).attr("alt")+'" ':"",i=a(this).attr("align")?"float:"+a(this).attr("align")+";":"",g=a(this).parent().attr("href")?"cursor:hand;":"";this.style.border&&(b+="border:"+this.style.border+";",this.style.border="");this.style.padding&&(b+="padding:"+this.style.padding+
";",this.style.padding="");this.style.margin&&(b+="margin:"+this.style.margin+";",this.style.margin="");var j=this.style.cssText,c=c+("<span "+d+e+f+h)+('style="position:relative;white-space:pre-line;display:inline-block;background:transparent;'+i+g)+("width:"+a(this).width()+"px;height:"+a(this).height()+"px;"),c=c+("filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a(this).attr("src")+"', sizingMethod='scale');"),c=c+(j+'"></span>');""!=b&&(c='<span style="position:relative;display:inline-block;'+
b+g+"width:"+a(this).width()+"px;height:"+a(this).height()+'px;">'+c+"</span>");a(this).hide();a(this).after(c)}),a(this).find("*").each(function(){var b=a(this).css("background-image");-1!=b.indexOf(".png")&&(b=b.split('url("')[1].split('")')[0],a(this).css("background-image","none"),a(this).get(0).runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"',sizingMethod='scale')")}),a(this).find("input[@src$=.png]").each(function(){var b=a(this).attr("src");a(this).get(0).runtimeStyle.filter=
"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale');";a(this).attr("src",d.blankgif)});return a}}});
