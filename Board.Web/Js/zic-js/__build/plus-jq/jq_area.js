define(function(j,b){var c=j("jquery"),h;b.init=function(){h=j("jqplus/jq_areaData");c.fn.jChinaArea=function(a){function g(){if(a.txtOrCode){var b=c(":selected",d).text();"无"==b&&(b="");var f=c(":selected",e).text();"无"==f&&(f="");var g=c(":selected",i).text();"无"==g&&(g="");l.val(b);h.val(f);j.val(g)}else l.val(c(":selected",d).val()),h.val(c(":selected",e).val()),j.val(c(":selected",i).val())}var a=c.extend({aspnet:!1,txtOrCode:!0,s1:null,s2:null,s3:null},a||{}),f=c(this),k=c("select",f),d=k.eq(0),
e=k.eq(1),i=k.eq(2);d.empty();e.empty();i.empty();b.fillOption(d,"0",a.s1,a.txtOrCode);b.fillOption(e,"0,"+d.val(),a.s2,a.txtOrCode);b.fillOption(i,"0,"+d.val()+","+e.val(),a.s3,a.txtOrCode);if(a.aspnet){var f=c("input",f),l=f.eq(0),h=f.eq(1),j=f.eq(2);g()}d.change(function(){e.empty();b.fillOption(e,"0,"+d.val());i.empty();b.fillOption(i,"0,"+d.val()+","+e.val());a.aspnet&&g()});e.change(function(){i.empty();b.fillOption(i,"0,"+d.val()+","+e.val());a.aspnet&&g()});i.change(function(){a.aspnet&&g()})}};
b.find=function(a){return"undefined"==typeof h[a]?!1:h[a]};b.fillOption=function(a,g,f,h){if(g=b.find(g)){var d=1,e=0;a.append('<option value="">无</option>');c.each(g,function(b,c){a.append('<option value="'+b+'">'+c+"</option>");if(h&&c==f||!h&&b==f)e=d;d++});a.get(0).selectedIndex=e}}});
