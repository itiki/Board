define(function(){return function(e){e.fn.bankcard=function(g){var f=e.extend({chain:" "},g);this.each(function(){var c=e(this);c.on("keyup",function(a){if(!(8==a.keyCode||46==a.keyCode||""==c.val())){a=c.val();a=a.substring(0,22);if(null!=a.match(".[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{7}"))a=" "+a.substring(1,5)+" "+a.substring(6,10)+" "+a.substring(14,18)+"-"+a.substring(18,25);else if(null==a.match(".[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{7}|.[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{7}|.[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{7}|.[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{7}")){var d=
accountChar="",b;for(b=0;b<a.length;b++)accountChar=a.substr(b,1),!isNaN(accountChar)&&" "!=accountChar&&(d+=accountChar);a="";for(b=0;b<d.length;b++)4==b&&(a+=f.chain),8==b&&(a+=f.chain),12==b&&(a+=f.chain),a+=d.substr(b,1)}a!=c.val()&&c.val(a)}})})}}});
