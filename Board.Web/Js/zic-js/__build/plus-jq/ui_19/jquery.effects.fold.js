define(function(){return function(h){(function(b){b.effects.effect.fold=function(e,h){var c=b(this),i="position,top,bottom,left,right,height,width".split(","),a=b.effects.setMode(c,e.mode||"hide"),g="show"===a,j="hide"===a,a=e.size||15,k=/([0-9]+)%/.exec(a),l=!!e.horizFirst,f=g!==l,m=f?["width","height"]:["height","width"],n=e.duration/2,d,o={},p={};b.effects.save(c,i);c.show();d=b.effects.createWrapper(c).css({overflow:"hidden"});f=f?[d.width(),d.height()]:[d.height(),d.width()];k&&(a=parseInt(k[1],
10)/100*f[j?0:1]);g&&d.css(l?{height:0,width:a}:{height:a,width:0});o[m[0]]=g?f[0]:a;p[m[1]]=g?f[1]:0;d.animate(o,n,e.easing).animate(p,n,e.easing,function(){j&&c.hide();b.effects.restore(c,i);b.effects.removeWrapper(c);h()})}})(h)}});
