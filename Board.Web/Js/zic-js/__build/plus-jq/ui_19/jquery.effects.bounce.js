define(function(){return function(n){(function(d){d.effects.effect.bounce=function(e,n){var a=d(this),o="position,top,bottom,left,right,height,width".split(","),b=d.effects.setMode(a,e.mode||"effect"),f="hide"===b,g="show"===b,c=e.direction||"up",b=e.distance,p=e.times||5,q=2*p+(g||f?1:0),k=e.duration/q,l=e.easing,h="up"===c||"down"===c?"top":"left",c="up"===c||"left"===c,i,j,m=a.queue(),r=m.length;(g||f)&&o.push("opacity");d.effects.save(a,o);a.show();d.effects.createWrapper(a);b||(b=a["top"===h?
"outerHeight":"outerWidth"]()/3);g&&(j={opacity:1},j[h]=0,a.css("opacity",0).css(h,c?2*-b:2*b).animate(j,k,l));f&&(b/=Math.pow(2,p-1));j={};for(g=j[h]=0;g<p;g++)i={},i[h]=(c?"-=":"+=")+b,a.animate(i,k,l).animate(j,k,l),b=f?2*b:b/2;f&&(i={opacity:0},i[h]=(c?"-=":"+=")+b,a.animate(i,k,l));a.queue(function(){f&&a.hide();d.effects.restore(a,o);d.effects.removeWrapper(a);n()});1<r&&m.splice.apply(m,[1,0].concat(m.splice(r,q+1)));a.dequeue()}})(n)}});
