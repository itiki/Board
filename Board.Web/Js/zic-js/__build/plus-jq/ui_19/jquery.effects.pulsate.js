define(function(){return function(g){(function(h){h.effects.effect.pulsate=function(c,g){var a=h(this),b=h.effects.setMode(a,c.mode||"show"),d="show"===b,k="hide"===b,b=2*(c.times||5)+(d||"hide"===b?1:0),i=c.duration/b,e=0,f=a.queue(),j=f.length;if(d||!a.is(":visible"))a.css("opacity",0).show(),e=1;for(d=1;d<b;d++)a.animate({opacity:e},i,c.easing),e=1-e;a.animate({opacity:e},i,c.easing);a.queue(function(){k&&a.hide();g()});1<j&&f.splice.apply(f,[1,0].concat(f.splice(j,b+1)));a.dequeue()}})(g)}});
