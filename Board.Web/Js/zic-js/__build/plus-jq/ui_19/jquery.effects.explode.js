define(function(){return function(k){(function(i){i.effects.effect.explode=function(e,k){function r(){l.push(this);l.length===f*j&&(a.css({visibility:"visible"}),i(l).remove(),b||a.hide(),k())}var f=e.pieces?Math.round(Math.sqrt(e.pieces)):3,j=f,a=i(this),b="show"===i.effects.setMode(a,e.mode||"hide"),q=a.show().css("visibility","hidden").offset(),g=Math.ceil(a.outerWidth()/j),h=Math.ceil(a.outerHeight()/f),l=[],c,d,m,n,o,p;for(c=0;c<f;c++){n=q.top+c*h;p=c-(f-1)/2;for(d=0;d<j;d++)m=q.left+d*g,o=d-
(j-1)/2,a.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-d*g,top:-c*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:h,left:m+(b?o*g:0),top:n+(b?p*h:0),opacity:b?0:1}).animate({left:m+(b?0:o*g),top:n+(b?0:p*h),opacity:b?1:0},e.duration||500,e.easing,r)}}})(k)}});
